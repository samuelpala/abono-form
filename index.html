<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulário com Validação</title>
  <style>
    iframe {
      width: 100%;
      height: 800px;
      border: none;
    }
    body {
      font-family: Arial, sans-serif;
    }
  </style>
</head>
<body>
  <h1>Formulário com Validação de Datas</h1>
  <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdZF8_DzlcmTorAMsRPCoMtdCk26IvRm02tVvE592a23fZpmw/viewform?embedded=true" width="640" height="2060" frameborder="0" marginheight="0" marginwidth="0">Carregando…</iframe> <!-- Substitua com o link do Google Form -->

  <script>
    const googleForm = document.getElementById("googleForm");

    googleForm.addEventListener("load", () => {
      // Aguarde um momento para o formulário carregar completamente
      setTimeout(() => {
        // Tenta acessar o conteúdo do iframe (funciona somente em formulários públicos do Google)
        const formDoc = googleForm.contentDocument || googleForm.contentWindow.document;

        if (formDoc) {
          const dateInputs = formDoc.querySelectorAll("input[type='date']");
          if (dateInputs.length < 3) {
            console.log("Não foi possível localizar os campos de data.");
            return;
          }

          // Adiciona validação em tempo real para os campos de data
          dateInputs.forEach((input, index) => {
            input.addEventListener("change", () => {
              const dates = Array.from(dateInputs).map(el => el.value);
              const months = dates
                .filter(date => date) // Ignora campos vazios
                .map(date => new Date(date).getMonth());
              const uniqueMonths = new Set(months);

              if (months.length !== uniqueMonths.size) {
                alert(`As datas escolhidas não podem ser do mesmo mês!`);
                input.value = ""; // Limpa o campo atual
              }
            });
          });
        } else {
          console.error("Não foi possível acessar o conteúdo do iframe.");
        }
      }, 2000);
    });
  </script>
</body>
</html>
